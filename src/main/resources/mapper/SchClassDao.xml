<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jlink.dao.SchClassDao" >
  <resultMap id="BaseResultMap" type="com.jlink.entity.SchClass" >
    <result column="id" property="id" jdbcType="INTEGER" />
    <result column="sch_name" property="schName" jdbcType="VARCHAR" />
    <result column="start_time" property="startTime" jdbcType="TIMESTAMP" />
    <result column="end_time" property="endTime" jdbcType="TIMESTAMP" />
    <result column="late_minutes" property="lateMinutes" jdbcType="INTEGER" />
    <result column="early_minutes" property="earlyMinutes" jdbcType="INTEGER" />
    <result column="check_in" property="checkIn" jdbcType="INTEGER" />
    <result column="check_out" property="checkOut" jdbcType="INTEGER" />
    <result column="check_in_time1" property="checkInTime1" jdbcType="TIMESTAMP" />
    <result column="check_in_time2" property="checkInTime2" jdbcType="TIMESTAMP" />
    <result column="check_out_time1" property="checkOutTime1" jdbcType="TIMESTAMP" />
    <result column="check_out_time2" property="checkOutTime2" jdbcType="TIMESTAMP" />
    <result column="color" property="color" jdbcType="INTEGER" />
    <result column="auto_bind" property="autoBind" jdbcType="SMALLINT" />
    <result column="work_day" property="workDay" jdbcType="DOUBLE" />
    <result column="sensor_id" property="sensorId" jdbcType="VARCHAR" />
    <result column="work_mins" property="workMins" jdbcType="DOUBLE" />
  </resultMap>
  <insert id="save" useGeneratedKeys="true" keyProperty="id" parameterType="com.jlink.entity.SchClass" >
    insert into sch_class (sch_name, start_time,
      end_time, late_minutes, early_minutes, 
      check_in, check_out, check_in_time1, 
      check_in_time2, check_out_time1, check_out_time2, 
      color, auto_bind, work_day, 
      sensor_id, work_mins)
    values (#{schName,jdbcType=VARCHAR}, #{startTime,jdbcType=TIMESTAMP},
      #{endTime,jdbcType=TIMESTAMP}, #{lateMinutes,jdbcType=INTEGER}, #{earlyMinutes,jdbcType=INTEGER}, 
      #{checkIn,jdbcType=INTEGER}, #{checkOut,jdbcType=INTEGER}, #{checkInTime1,jdbcType=TIMESTAMP}, 
      #{checkInTime2,jdbcType=TIMESTAMP}, #{checkOutTime1,jdbcType=TIMESTAMP}, #{checkOutTime2,jdbcType=TIMESTAMP}, 
      #{color,jdbcType=INTEGER}, #{autoBind,jdbcType=SMALLINT}, #{workDay,jdbcType=DOUBLE}, 
      #{sensorId,jdbcType=VARCHAR}, #{workMins,jdbcType=DOUBLE})
  </insert>
  <select id="query" resultType="com.jlink.entity.SchClass">
    select * from sch_class limit #{offset}, #{limit}
  </select>
  <select id="count" resultType="Integer">
    select count(*) from sch_class
  </select>
  <delete id="delete">
    delete from sch_class where id = #{id}
  </delete>
  <update id="update">
    update sch_class
    set sch_name = #{schName},
        start_time = #{startTime},
        end_time = #{endTime},
        late_minutes = #{lateMinutes},
        early_minutes = #{earlyMinutes},
        check_in = #{checkIn},
        check_out = #{checkOut},
        check_in_time1 = #{checkInTime1},
        check_in_time2 = #{checkInTime2},
        check_out_time1 = #{checkOutTime1},
        check_out_time2 = #{checkOutTime2},
        color = #{color},
        auto_bind = #{autoBind},
        work_day = #{workDay},
        sensor_id = #{sensorId},
        work_mins = #{workMins}
    where id = #{id}
  </update>
   <select id="getById" resultType="com.jlink.entity.SchClass" parameterType="Integer">
       select * from sch_class WHERE id = #{id};
   </select>
</mapper>