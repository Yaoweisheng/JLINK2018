<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jlink.dao.RoleDao">
	<select id="queryRole" resultType="com.jlink.entity.Role">
		SELECT role_id, name, code, create_time, modify_time, is_delete, is_active
		FROM role
		where is_delete = 0
	</select>

	<select id="queryRoleById" resultType="com.jlink.entity.Role" parameterType="Integer">
		SELECT role_id, name, code, create_time, modify_time, is_delete, is_active
		FROM role
		where
		role_id = #{roleId}
	</select>

	<select id="queryRoleByName" resultType="com.jlink.entity.Role" parameterType="String">
		SELECT role_id, name, code, create_time, modify_time, is_delete, is_active
		FROM role
		where
		name = #{name}
	</select>

    <insert id="saveRole" useGeneratedKeys="true" keyProperty="roleId" parameterType="com.jlink.entity.Role">
		INSERT INTO
		role(name, code, create_time, is_delete, is_active)
		VALUES
		(#{name},#{code},#{createTime}, #{isDelete}, #{isActive})
	</insert>

    <update id="updateRole" >
        update role
        set name = #{name},
            code = #{code},
            modify_time = #{modifyTime},
            is_delete = #{isDelete},
            is_active = #{isActive}
        where role_id = #{roleId}
    </update>
</mapper>
